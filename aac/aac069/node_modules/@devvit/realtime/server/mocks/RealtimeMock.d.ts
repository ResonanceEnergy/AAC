import { type RealtimeEvent, type RealtimeRequest } from '@devvit/protos/json/devvit/events/v1alpha/realtime.js';
import type { Empty } from '@devvit/protos/json/google/protobuf/empty.js';
import type { Metadata } from '@devvit/protos/lib/Types.js';
import { type Realtime } from '@devvit/protos/types/devvit/events/v1alpha/realtime.js';
import type { PluginMock } from '@devvit/shared-types/test/index.js';
import { Observable } from 'rxjs';
type Channel = string;
/** A mock the Realtime plugin. */
export declare class RealtimePluginMock implements Realtime {
    private readonly _sentMessages;
    private readonly _receivedMessages;
    private readonly _subjects;
    constructor(sentMessages: Map<Channel, RealtimeEvent[]>, receivedMessages: Map<Channel, RealtimeEvent[]>);
    Send(request: RealtimeEvent, _metadata?: Metadata): Promise<Empty>;
    /**
     * The RXJS Observable pattern is deprecated and the return type is subject to change. Maintaining
     * this contract for now to satisfy the underlying plugin contract.
     *
     * @deprecated
     */
    Subscribe(request: RealtimeRequest, _metadata?: Metadata): Observable<RealtimeEvent>;
}
/** A mock that provides helpful methods and an in-memory store on top of the `RealtimePluginMock`. */
export declare class RealtimeMock implements PluginMock<Realtime> {
    readonly plugin: RealtimePluginMock;
    private readonly _sentMessages;
    private readonly _receivedMessages;
    constructor();
    /**
     * Returns all messages that were sent via `Send()` across all channels.
     *
     * @returns An array of `RealtimeEvent` objects that were sent.
     */
    getSentMessages(): RealtimeEvent[];
    /**
     * Returns all messages that were sent via `Send()` for the specified channel.
     *
     * @param channel - The channel name to query.
     * @returns An array of `RealtimeEvent` objects that were sent to the channel.
     */
    getSentMessagesForChannel(channel: string): RealtimeEvent[];
    /**
     * Returns all messages that were received through `Subscribe()` Observables across all channels.
     *
     * @returns An array of `RealtimeEvent` objects that were received.
     */
    getReceivedMessages(): RealtimeEvent[];
    /**
     * Returns all messages that were received through `Subscribe()` Observables for the specified channel.
     *
     * @param channel - The channel name to query.
     * @returns An array of `RealtimeEvent` objects that were received on the channel.
     */
    getReceivedMessagesForChannel(channel: string): RealtimeEvent[];
    /**
     * Clears all sent messages across all channels.
     */
    clearSentMessages(): void;
    /**
     * Clears all sent messages for the specified channel.
     *
     * @param channel - The channel name to clear.
     */
    clearSentMessagesForChannel(channel: string): void;
    /**
     * Clears all received messages across all channels.
     */
    clearReceivedMessages(): void;
    /**
     * Clears all received messages for the specified channel.
     *
     * @param channel - The channel name to clear.
     */
    clearReceivedMessagesForChannel(channel: string): void;
    /**
     * Clears all tracked messages (both sent and received) across all channels.
     */
    reset(): void;
}
export {};
//# sourceMappingURL=RealtimeMock.d.ts.map