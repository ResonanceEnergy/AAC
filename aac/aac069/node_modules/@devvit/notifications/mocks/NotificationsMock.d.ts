import { type Metadata } from '@devvit/protos';
import { type DismissGamesDrawerBadgeRequest, type DismissGamesDrawerBadgeResponse, type GetGamesDrawerBadgeStatusRequest, type GetGamesDrawerBadgeStatusResponse, type ShowGamesDrawerBadgeRequest, type ShowGamesDrawerBadgeResponse } from '@devvit/protos/types/devvit/plugin/notifications/gamesdrawerbadge_msg.js';
import type { Notifications } from '@devvit/protos/types/devvit/plugin/notifications/notifications_svc.js';
import { type IsOptedInRequest, type IsOptedInResponse, type ListOptedInUsersRequest, type ListOptedInUsersResponse, type OptInCurrentUserResponse, type OptOutCurrentUserResponse } from '@devvit/protos/types/devvit/plugin/notifications/optin_msg.js';
import { type EnqueueRequest, type EnqueueResponse } from '@devvit/protos/types/devvit/plugin/notifications/pushnotif_msg.js';
import { Empty } from '@devvit/protos/types/google/protobuf/empty.js';
import type { PluginMock } from '@devvit/shared-types/test/index.js';
import { T2, T3 } from '@devvit/shared-types/tid.js';
type BadgeState = {
    post: T3;
    expiresAt?: Date;
};
type NotificationStore = {
    optedInUsers: Set<T2>;
    notifications: EnqueueRequest[];
    badge: BadgeState | undefined;
};
export declare class NotificationsPluginMock implements Notifications {
    private readonly _store;
    constructor(store: NotificationStore);
    private _getUserId;
    OptInCurrentUser(_request: Empty, metadata?: Metadata): Promise<OptInCurrentUserResponse>;
    OptOutCurrentUser(_request: Empty, metadata?: Metadata): Promise<OptOutCurrentUserResponse>;
    ListOptedInUsers(request: ListOptedInUsersRequest, _metadata?: Metadata): Promise<ListOptedInUsersResponse>;
    IsOptedIn(request: IsOptedInRequest, _metadata?: Metadata): Promise<IsOptedInResponse>;
    Enqueue(request: EnqueueRequest, _metadata?: Metadata): Promise<EnqueueResponse>;
    ShowGamesDrawerBadge(request: ShowGamesDrawerBadgeRequest, _metadata?: Metadata): Promise<ShowGamesDrawerBadgeResponse>;
    DismissGamesDrawerBadge(_request: DismissGamesDrawerBadgeRequest, _metadata?: Metadata): Promise<DismissGamesDrawerBadgeResponse>;
    GetGamesDrawerBadgeStatus(_request: GetGamesDrawerBadgeStatusRequest, _metadata?: Metadata): Promise<GetGamesDrawerBadgeStatusResponse>;
}
export declare class NotificationsMock implements PluginMock<Notifications> {
    readonly plugin: NotificationsPluginMock;
    private readonly _store;
    constructor();
    /**
     * Returns the list of notifications that have been sent.
     */
    getSentNotifications(): EnqueueRequest[];
    /**
     * Returns the set of users who have opted in.
     */
    getOptedInUsers(): T2[];
    optInUser(userId: T2): void;
    optOutUser(userId: T2): void;
    /**
     * Returns the current active badge state, if any.
     */
    getActiveBadge(): BadgeState | undefined;
    /**
     * Resets the mock state, clearing all opted-in users, notifications, and badges.
     */
    reset(): void;
}
export {};
//# sourceMappingURL=NotificationsMock.d.ts.map